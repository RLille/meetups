---
output: github_document
---

# R Lille Meetup Posters <a href="https://github.com/RLille/"><img src="https://avatars1.githubusercontent.com/u/60702180" align="right" width="120" /></a>

<!-- badges: start -->
[![License](https://img.shields.io/github/license/RLille/meetup-poster)](LICENSE)
<!-- badges: end -->

```{r, echo = FALSE, message = FALSE}
source("assets/social.R")
library(here)

rscript <- list.files(path = "R", pattern = "^20.*\\.R$", full.names = TRUE)
meetup <- sub("\\.R$", "", basename(rscript))
base_ads <- paste0(sprintf("meetups/%s/ads/%s", meetup, meetup), c(".png", ".md"))

outdated <- !all(sapply(base_ads, file.exists)) |
  min(sapply(base_ads, file.mtime)) <  max(
    sapply(
      X = c(
        rscript,
        "assets/social.R",
        "assets/poster.Rmd",
        "assets/announcement.Rmd"
      ),
      FUN = file.mtime
    )
  )

invisible(lapply(rscript[outdated], source, encoding = "UTF-8"))
```

```{r, results = "asis", echo = FALSE}
cell <- sprintf(
  paste0(
    '<td align = "center">',
      '<a href="meetups/%s/materials/README.md">',
        '<img alt="Affiche du Meetup du %s" src="%s" width="192" height="108" />',
        "<br/>",
        "%s",
      "</a>",
    "</td>"
  ),
  meetup, meetup, base_ads[[1]], meetup
)
cell <- paste0('<td align = "center">', img, "<br />", png_link, "</td>")
cols <- 4
rows <- ceiling(length(cell) / cols)
row_id <- rep(seq_len(rows), each = cols, length.out = length(cell))
row_cells <- split(cell, row_id)
cat("<table>\n")
cat(paste0("<tr>", sapply(row_cells, paste, collapse = ""), "</tr>"), sep = "")
cat("</table>\n")
```

_Note:_ Poster/slides based on a template
by [MickaÃ«l Canouil](https://mickael.canouil.fr/)
(<https://github.com/mcanouil/xaringan-template/>).
